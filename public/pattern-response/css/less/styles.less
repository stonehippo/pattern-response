/* Basic CSS only targeting the layout, not the patterns */

@import "variables.less"; // Modify this for custom colors, font-sizes, etc
@import "mixins.less";

// Root

body.pat-res {
	background-color: @grayLighter;
	margin: 0 auto;
}

// Reset Pat Res Styles

.pat-res-nav, .pat-res-heading, .pat-res-info, .pat-res-source {
	div, h1, h2, h3, h4, h5, h6, p, blockquote, a, code, em, img, strong, dl, dt, dd, ol, ul, li, form, label, nav {
		background: none;
		border-radius: 0;
		border: 0;
		border: none;
		bottom: auto;
		.box-shadow(0 0 0 rgba(0,0,0,0));
		color: inherit;
		font-size: 100%;
		font: inherit;
		height: auto;
		left: auto;
		letter-spacing: 0;
		line-height: 1.6;
		margin: 0;
		max-height: auto;
		max-width: auto;
		padding: 0;
		position: static;
		right: auto;
		text-align: left;
		text-decoration: none;
		text-indent: 0;
		text-transform: none;
		top: auto;
		text-shadow: 0 0 0 transparent;
		.transition(none);
		vertical-align: baseline;
		width: auto;
		z-index: 0;
	}
}

// Menu

.pat-res-nav {
	#font > .sans-serif();
	.container-fluid {
	  .clearfix();
	  padding: 0 @gridGutterWidth * 2;
	  z-index: @zindexFixedNavbar;
	}
	.collapse {
	  .transition(height .35s ease);
	  height: 0;
	  overflow:hidden;
	  position:relative;
	  &.in { height: auto; }
	}
	.nav {
	  list-style: none;
	  margin-bottom: @baseLineHeight;
	  margin-left: 0;
		> li > a {
	  	display: block;
	  	font-size: @baseFontSize;
			&:hover {
	  		text-decoration: none;
	  		background-color: @grayLighter;
			}
		}
		> .dropdown.active > a:hover {
	  	color: @black;
	  	cursor: pointer;
		}
		> .open.active > a:hover {
		  background-color: @grayLight;
		  border-color: @grayLight;
		  color: @white;
		}
		.open .caret,
		.open.active .caret,
		.open a:hover .caret {
	  	border-top-color: @white;
	  	.opacity(100);
		}
	}
	.navbar {
	  margin-bottom: @baseLineHeight;
	  overflow: visible;
	}
	
	// Gradient is applied to it's own element because overflow visible is not honored by IE when filter is present
	.navbar-inner {
	  #gradient > .vertical(@navbarBackgroundHighlight, @navbarBackground);
	  .border-radius(4px);
	  .box-shadow(@shadow);
	  @shadow: 0 1px 3px rgba(0,0,0,.25), inset 0 -1px 0 rgba(0,0,0,.1);
	  padding-left:  20px;
	  padding-right: 20px;
	}
	
	// Navbar button for toggling navbar items in responsive layouts
	.btn-navbar {
	  .box-shadow(@shadow);
	  .buttonBackground(@navbarBackgroundHighlight, @navbarBackground);
	  @shadow: inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.075);
	  display: none;
	  float: right;
	  margin-left: 5px;
	  margin-right: 5px;
	  padding: 7px 10px;
	  &:hover,
	  &:active,
	  &.active,
	  &.disabled
	  &[disabled] {
			background-color: #222;
		}
		.icon-bar {
		  .border-radius(1px);
		  .box-shadow(0 1px 0 rgba(0,0,0,.25));
		  background-color: #f5f5f5;
		  display: block;
		  height: 2px;
		  width: 18px;
		}
	}
	.btn-navbar .icon-bar + .icon-bar {
	  margin-top: 3px;
	}
	// Override the default collapsed state
	.nav-collapse.collapse {
	  height: auto;
	}
	
	// Brand, links, text, and buttons
	.navbar {
	  // Hover and active states
	  .brand:hover {
	    text-decoration: none;
	  }
	  // Website or project name
	  .brand {
	    color: @gray;
	    display: block;
	    float: left;
	    font-size: 20px;
	    font-weight: bold;
	    line-height: 1;
	    margin-left: -20px; // negative indent to left-align the text down the page
	    padding: 8px 20px 12px;
	    text-decoration: none;
	    text-shadow: -1px -1px 1px rgba(0,0,0,.5);
	  }
	  // Plain text in topbar
	  .navbar-text {
	    color: @navbarText;
	    line-height: 40px;
	    margin-bottom: 0;
	    a:hover {
	      background-color: transparent;
	      color: @white;
	    }
	  }
	  // Buttons in navbar
	  .btn,
	  .btn-group {
	    margin-top: 5px; // make buttons vertically centered in navbar
	  }
	  .btn-group .btn {
	    margin-top: 0;
	  }
	}
	
	// Navbar forms
	.navbar-form {
	  margin-bottom: 0; // remove default bottom margin
	  .clearfix();
	  input,
	  select {
	    display: inline-block;
	    margin-bottom: 0;
	    margin-top: 5px;
	  }
	  .radio,
	  .checkbox {
	    margin-top: 5px;
	  }
	  input[type="image"],
	  input[type="checkbox"],
	  input[type="radio"] {
	    margin-top: 3px;
	  }
	}
	
	// Navbar search
	.navbar-search {
	  float: left;
	  margin-bottom: 0;
	  margin-top: 6px;
	  position: relative;
	  .pat-res-search-query {
			-webkit-appearance: textfield;
			box-sizing: content-box;
	  	display: block;
	  	text-align: left;
	    #font > .sans-serif(13px, normal, 1);
	    .border-radius(14px);
	    .box-shadow(@shadow);
	    .transition(none);
	    @shadow: inset 0 1px 2px rgba(0,0,0,.1), 0 1px 0px rgba(255,255,255,.15);
	    background: #666;
	    background: rgba(255,255,255,.3);
	    border: 1px solid #111;
	    color: @white;
	    color: rgba(255,255,255,.75);
	    height: auto;
	    margin: 0;
	    padding: 6px 4px 4px 1px;
	    // Placeholder text gets special styles; can't be bundled together though for some reason
	    .placeholder(@grayLighter);
	
	    // Hover states
	    &:hover {
	      background-color: @grayLight;
	      background-color: rgba(255,255,255,.5);
	      color: @white;
	    }
	    // Focus states (we use .focused since IE8 and down doesn't support :focus)
	    &:focus,
	    &.focused {
	      .box-shadow(0 0 3px rgba(0,0,0,.15));
	      background-color: @white;
	      border: 0;
	      color: @grayDark;
	      outline: 0;
	      padding: 7px 5px 5px 2px;
	      text-shadow: 0 1px 0 @white;
	    }
	  }
	}
		
	// FIXED NAVBAR
	// ------------
	
	.navbar-fixed-top {
	  left: 0;
	  position: fixed;
	  right: 0;
	  top: 0;
	  z-index: @zindexFixedNavbar;
	}
	.navbar-fixed-top .navbar-inner {
	  .border-radius(0);
	  padding-left:  0;
	  padding-right: 0;
	}
	
	// NAVIGATION
	// ----------
	
	.navbar .nav {
	  display: block;
	  float: left;
	  left: 0;
	  margin: 0 10px 0 0;
	  padding: 0;
	  position: relative;
	}
	.navbar .pull-right {
	  float: right; // redeclare due to specificity
	}
	.navbar .nav > li {
	  display: block;
	  float: left;
	}
	
	// Links
	.navbar .nav > li > a {
	  color: @navbarLinkColor;
	  float: none;
	  line-height: 19px;
	  padding: 10px 10px 11px;
	  text-decoration: none;
	  text-shadow: 0 -1px 0 rgba(0,0,0,.25);
	}
	// Hover
	.navbar .nav > li > a:hover {
	  background-color: transparent;
	  color: @navbarLinkColorHover;
	  text-decoration: none;
	}
	
	// Active nav items
	.navbar .nav .active > a,
	.navbar .nav .active > a:hover {
	  background-color: @navbarBackground;
	  background-color: rgba(0,0,0,.5);
	  color: @navbarLinkColorHover;
	  text-decoration: none;
	}
	
	// Dividers (basically a vertical hr)
	.navbar .divider-vertical {
	  background-color: @navbarBackground;
	  border-right: 1px solid @navbarBackgroundHighlight;
	  height: @navbarHeight;
	  margin: 0 9px;
	  overflow: hidden;
	  width: 1px;
	}
	
	// Secondary (floated right) nav in topbar
	.navbar .pull-right {
	  margin-left: 10px;
	  margin-right: 0;
	}
		
	// Dropdown menus
	// --------------
	
	// Menu position and menu carets
	.navbar .dropdown-menu {
	  margin-top: 1px;
	  .border-radius(4px);
	  &:before {
	    border-bottom-color: rgba(0,0,0,.2);
	    border-bottom: 7px solid #ccc;
	    border-left:   7px solid transparent;
	    border-right:  7px solid transparent;
	    content: '';
	    display: inline-block;
	    left: 9px;
	    position: absolute;
	    top: -7px;
	  }
	  &:after {
	    border-bottom: 6px solid @white;
	    border-left:   6px solid transparent;
	    border-right:  6px solid transparent;
	    content: '';
	    display: inline-block;
	    left: 10px;
	    position: absolute;
	    top: -6px;
	  }
	}
	
	// Dropdown toggle caret
	.navbar .nav .dropdown-toggle .caret,
	.navbar .nav .open.dropdown .caret {
	  border-top-color: @white;
	}
	.navbar .nav .active .caret {
	  .opacity(100);
	}
	
	// Remove background color from open dropdown
	.navbar .nav .open > .dropdown-toggle,
	.navbar .nav .active > .dropdown-toggle,
	.navbar .nav .open.active > .dropdown-toggle {
	  background-color: transparent;
	}
	
	// Dropdown link on hover
	.navbar .nav .active > .dropdown-toggle:hover {
	  color: @white;
	}
	
	// Right aligned menus need alt position
	.navbar .pull-right .dropdown-menu {
	  left: auto;
	  right: 0;
	  &:before {
	    left: auto;
	    right: 12px;
	  }
	  &:after {
	    left: auto;
	    right: 13px;
	  }
	}
	// DROPDOWN MENUS
	// --------------
	.dropdown {
	  position: relative;
	}
	.dropdown-toggle {
	  // The caret makes the toggle a bit too tall in IE7
	  *margin-bottom: -3px;
	}
	.dropdown-toggle:active,
	.open .dropdown-toggle {
	  outline: 0;
	}
	// Dropdown arrow/caret
	.caret {
	  .opacity(30);
	  border-left:  4px solid transparent;
	  border-right: 4px solid transparent;
	  border-top:   4px solid @black;
	  content: "\2193";
	  display: inline-block;
	  height: 0;
	  // IE7 won't do the border trick if there's a text indent, but it doesn't
	  // do the content that text-indent is hiding, either, so we're ok.
	  text-indent: -99999px;
	  *text-indent: 0;
	  vertical-align: top;
	  width: 0;
	}
	.dropdown .caret {
	  margin-top: 8px;
	  margin-left: 2px;
	}
	.dropdown:hover .caret,
	.open.dropdown .caret {
	  .opacity(100);
	}
	// The dropdown menu (ul)
	.dropdown-menu {
	  .border-radius(0 0 5px 5px);
	  .box-shadow(0 5px 10px rgba(0,0,0,.2));
	  -webkit-background-clip: padding-box;
	    -moz-background-clip: padding;
	      background-clip: padding-box;
	  background-color: @white;
	  border-color: #ccc;
	  border-color: rgba(0,0,0,.2);
	  border-style: solid;
	  border-width: 1px;
	  *border-right-width: 2px;
	  *border-bottom-width: 2px;
	  display: none; // none by default, but block on "open" of the menu
	  float: left;
	  left: 0;
	  list-style: none;
	  margin: 0; // override default ul
	  max-width: 220px;
	  min-width: 160px;
	  _width: 160px;
	  padding: 4px 0;
	  position: absolute;
	  top: 100%;
	  z-index: @zindexDropdown;
	  
	
	  // Allow for dropdowns to go bottom up (aka, dropup-menu)
	  &.bottom-up {
	    bottom: 100%;
	    margin-bottom: 2px;
	    top: auto;
	  }
	
	  // Dividers (basically an hr) within the dropdown
	  .divider {
	    background-color: #e5e5e5;
	    border-bottom: 1px solid @white;
	    height: 1px;
	    margin: 5px 1px;
	    overflow: hidden;
	
	    // IE7 needs a set width since we gave a height. Restricting just
	    // to IE7 to keep the 1px left/right space in other browsers.
	    // It is unclear where IE is getting the extra space that we need
	    // to negative-margin away, but so it goes.
	    *width: 100%;
	    *margin: -5px 0 5px;
	  }
	
	  // Links within the dropdown menu
	  a {
	    clear: both;
	    color: @gray;
	    display: block;
	    font-weight: normal;
	    line-height: 18px;
	    padding: 3px 15px;
	    text-decoration: none;
	    white-space: nowrap;
	  }
	}
	
	// Hover state
	.dropdown-menu li > a:hover,
	.dropdown-menu .active > a,
	.dropdown-menu .active > a:hover {
	  color: @white;
	  text-decoration: none;
	  background-color: @linkColor;
	}
	
	// Open state for the dropdown
	.dropdown.open {
	  // IE7's z-index only goes to the nearest positioned ancestor, which would
	  // make the menu appear below buttons that appeared later on the page
	  *z-index: @zindexDropdown;
	
	  .dropdown-toggle {
	    background: #ccc;
	    background: rgba(0,0,0,.3);
	    color: @white;
	  }
	  .dropdown-menu {
	    display: block;
	  }
	}
	
	// Typeahead
	.typeahead {
	  .border-radius(4px);
	  margin-top: 2px; // give it some space to breathe
	}

}

// Patterns - Content
.pat-res-patterns {
	padding: 0 @gridGutterWidth * 2 @baseLineHeight;
	.pat-res-space {
		padding: @baseLineHeight * 3 0 0;
	}
	.pat-res-section {
		.box-shadow();
		.clearfix();
		background-color: @white;
		margin: 0 auto;
		padding: 0 0 @baseLineHeight * 3;
	}
	.pat-res-header, .pat-res-sub-header {
		margin: 0 0 @baseLineHeight;
		#font > .sans-serif();
	}
	.pat-res-heading {
		border: none;
		text-transform: none;
		#font > .sans-serif();
	}
	h2.pat-res-heading {
		background-color: @linkColor;
		color: #eee;
		font-size: 1.5em;
		font-weight: bold;
		margin: 0;
		padding: @baseLineHeight @gridGutterWidth;
		.pat-res-btt {
			color: #eee;
			float: right;
			font-size: 14px;
			font-weight: normal;
			text-decoration: none;
		}
	}
	h3.pat-res-heading, h4.pat-res-heading {
	  background-color: @grayDark;
	  border-top: 1px solid @grayLighter;
	  color: @grayLighter;
	  font-weight: normal;
	  margin: 0;
	  padding: @baseLineHeight / 2 @gridGutterWidth;
	 }
  .pat-res-link {
  	color: @linkColor;
  	font-size: 14px;
  	float: right;
  }
	h4.pat-res-heading {
		background-color: #ccc;
		color: @grayDark;
	}
	.pat-res-info {
		background-color: @grayLighter;
		margin: 0;
		padding: @baseLineHeight / 2 @gridGutterWidth;
		strong, b {
			font-weight: bold;
		}
		em, i {
			font-style: italic;
		}
	}
	.pat-res-pattern {
	  clear: both;
	  margin-top: -@baseLineHeight;
	  overflow: hidden;
	  padding: @baseLineHeight @gridGutterWidth;
	}
	.pat-res-display {
    float: left;
    padding: 0;
    width: 60%;
	}
	.pat-res-source {
    width: 35%;
    float: right;
    #font > .sans-serif();
    padding: 0;
    .pat-res-heading {
    	color: @gray;
    	font-size: 14px;
    	font-weight: bold;
    	margin: 0 0 @baseLineHeight / 4;
    	display: block;
    }
    .inline {
    	float: right;
    	font-weight: normal;
    	color: @grayLight;
    }
    .code {
	    .clip {
	    	.transition(all .3s ease-out);
	    }
    	.clip span {
    		color: @linkColor;
    		.opacity(0);
    		font-weight: normal;
    		.transition(all .3s ease-out);
    	}
    	&:hover, .clip:hover {
    		.transition(all .3s ease-out);
    	}
    	&:hover .clip span, .clip:hover span {
    		.opacity(100);
    		.transition(all .3s ease-out);
    	}
  	}
  	pre {
  	  #font > #family > .monospace;
  	  .border-radius(3px);
  	  .border-radius(4px);
  	  background-color: #f5f5f5;
  	  border: 1px solid #ccc; // fallback for IE7-8
  	  border: 1px solid rgba(0,0,0,.15);
  	  color: @grayDark;
  	  display: block;
  	  font-size: 12px;
  	  font-size: @baseFontSize - 1;
  	  line-height: @baseLineHeight;
  	  margin: 0 0 @baseLineHeight / 2;
  	  max-height: 220px;
  	  overflow: auto;
  	  padding: (@baseLineHeight - 1) / 2;
  	  padding: 0 3px 2px;
  	  white-space: pre;
  	  white-space: pre-wrap;
  	  word-break: break-all;
  	  // Make prettyprint styles more spaced out for readability
  	  &.prettyprint {
  	    margin-bottom: @baseLineHeight;
  	  }
  	}
  }
}


@media (max-width: 1000px) {
	body {
		padding-top: 0;
		top: 0;
	}
	.pat-res-nav {
	  // UNFIX THE TOPBAR
	  // ----------------
	
	  // Unfix the navbar
	  .navbar-fixed-top {
	    margin-bottom: @baseLineHeight;
	    position: static;
	  }
	  .navbar-fixed-top .navbar-inner {
	    padding: 5px;
	  }
	  .navbar .container {
	    padding: 0;
	    width: auto;
	  }
	  // Account for brand name
	  .navbar .brand {
	    margin: 0 0 0 -5px;
	    padding-left: 10px;
	    padding-right: 10px;
	  }
	  // Nav collapse clears brand
	  .navbar .nav-collapse {
	    clear: left;
	  }
	  // Block-level the nav
	  .navbar .nav {
	    float: none;
	    margin: 0 0 (@baseLineHeight / 2);
	  }
	  .navbar .nav > li {
	    float: none;
	  }
	  .navbar .nav > li > a {
	    margin-bottom: 2px;
	  }
	  .navbar .nav > .divider-vertical {
	    display: none;
	  }
	  // Nav and dropdown links in navbar
	  .navbar .nav > li > a,
	  .navbar .dropdown-menu a {
	    .border-radius(3px);
	    color: @navbarLinkColor;
	    font-weight: bold;
	    padding: 6px 15px;
	    text-decoration: none;
	  }
	  .navbar .dropdown-menu li + li a {
	    margin-bottom: 2px;
	  }
	  .navbar .nav > li > a:hover,
	  .navbar .dropdown-menu a:hover {
	    background-color: @navbarBackground;
	  }
	  // Dropdowns in the navbar
	  .navbar .dropdown-menu {
	    .border-radius(0);
	    .box-shadow(none);
	    background-color: transparent;
	    border: none;
	    display: block;
	    float: none;
	    left: auto;
	    margin: 0 15px;
	    max-width: none;
	    padding: 0;
	    position: static;
	    top: auto;
	  }
	  .navbar .dropdown-menu:before,
	  .navbar .dropdown-menu:after {
	    display: none;
	  }
	  .navbar .dropdown-menu .divider {
	    display: none;
	  }
	  // Forms in navbar
	  .navbar-form,
	  .navbar-search {
	    .box-shadow(@shadow);
	    @shadow: inset 0 1px 0 rgba(255,255,255,.1), 0 1px 0 rgba(255,255,255,.1);
	    border-bottom: 1px solid @navbarBackground;
	    border-top: 1px solid @navbarBackground;
	    float: none;
	    margin: (@baseLineHeight / 2) 0;
	    padding: (@baseLineHeight / 2) 15px;
	  }
	  // Pull right (secondary) nav content
	  .navbar .pull-right {
	    float: none;
	    margin-left: 0;
	  }
	  // Static navbar
	  .navbar-static .navbar-inner {
	    padding-left:  10px;
	    padding-right: 10px;
	  }
	  // Navbar button
	  .btn-navbar {
	    display: block;
	  }
	
	  // Hide everything in the navbar save .brand and toggle button */
	  .nav-collapse {
	    height: 0;
	    overflow: hidden;
	  }
	}
		// Patterns - Content
	.pat-res-patterns {
		.pat-res-space {
			padding: 0;
		}
		.pat-res-section {
			margin: 0;
		}
		.pat-res-pattern {
			.pat-res-display {
		    width: 55%;
			}
			.pat-res-source {
		    width: 40%;
			}
		}
	}

}

@media (max-width: 600px) {
	
	.pat-res-nav {
		.container-fluid {
			padding: 0 @gridGutterWidth / 2;
		}
	}
		// Patterns - Content
	.pat-res-patterns {
		padding: 0 0 @baseLineHeight;
		.pat-res-section {
			margin-bottom: @baseLineHeight * 2;
			padding: 0;
		}
	  .pat-res-link {
	  	float: none;
	  }
		.pat-res-pattern {
			.pat-res-display {
		    float: none;
		    padding: 0;
		    width: auto;
			}
			.pat-res-source {
		    float: none;
		    margin: @baseLineHeight 0;
		    padding: 0;
		    width: auto;
			}
		}
	}
}

// Overrides

.pat-res-no-code {
	.pat-res-patterns .pat-res-pattern {
		.pat-res-display {
	    float: none;
	    padding: 0;
	    width: auto;
		}
		.pat-res-source {
			display: none;
		}
	}
}

